<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="what heppens when an octopus aspires to be a hacker? - Hexadecimal + Octopus = 0xtopus the h4x0r!">
    <meta property="og:type" content="website">
    <meta name="description" content="what heppens when an octopus aspires to be a hacker? - Hexadecimal + Octopus = 0xtopus the h4x0r!">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        JavaScript Note - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> h4x0rdecimal 0xtopus </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="/img/avatar.png" />
        </div>
        <div class="name">
            <i>0xtopus</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>收藏</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript"><span class="toc-text">JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="toc-text">发展历程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%9A%84%E8%BF%90%E8%A1%8C"><span class="toc-text">JavaScript的运行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-script-gt-%E6%A0%87%E7%AD%BE%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="toc-text">&lt;script&gt;标签的位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8node-js"><span class="toc-text">使用node.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">JavaScript的基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#strict-mode"><span class="toc-text">strict mode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#let%E5%92%8Cvar"><span class="toc-text">let和var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const"><span class="toc-text">const</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Number"><span class="toc-text">Number</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String"><span class="toc-text">String</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean"><span class="toc-text">Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Array"><span class="toc-text">Array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object"><span class="toc-text">Object</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">面向对象式编程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Accessing-Object"><span class="toc-text">Accessing Object</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Object-Array"><span class="toc-text">Object Array</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#x3D-%E5%92%8C-x3D-x3D"><span class="toc-text">&#x3D;&#x3D; 和 &#x3D;&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-text">控制结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if-else"><span class="toc-text">if-else</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-text">循环</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">JS函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8D%B3%E5%8F%98%E9%87%8F"><span class="toc-text">函数即变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">匿名函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E5%8D%87"><span class="toc-text">提升</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-%E5%87%BD%E6%95%B0"><span class="toc-text">Object 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#this"><span class="toc-text">this</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E5%BE%AA%E7%8E%AF"><span class="toc-text">函数式循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#forEach"><span class="toc-text">forEach()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map"><span class="toc-text">map()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter"><span class="toc-text">filter()</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%B2%E8%81%94%E5%87%BD%E6%95%B0"><span class="toc-text">串联函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce"><span class="toc-text">reduce()</span></a></li></ol></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> h4x0rdecimal 0xtopus </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        JavaScript Note
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2023-11-12 07:25:39</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><p>JavaScript和Java没啥关系。它是ECMAscript标准的实现，所以JavaScript的版本又叫做<code>ES</code>，本篇描述了ES5的语法。</p>
<h2 id="发展历程"><a href="#发展历程" class="headerlink" title="发展历程"></a>发展历程</h2><p>ES5是2009年提出的，ES6在2015年提出，已经被大量浏览器支持。最后是2016年完成的ES7，但还未被可靠的支持。</p>
<p>每个版本都会添加一些额外的简化语法，特定的关键字以及核心函数。每个版本也都前向兼容。只要浏览器内置的解释器支持，就可以使用JavaScript的新特性。</p>
<h2 id="JavaScript的运行"><a href="#JavaScript的运行" class="headerlink" title="JavaScript的运行"></a>JavaScript的运行</h2><p>在浏览器中，当页面的HTML被逐行渲染时，遇到<code>&lt;script&gt;</code> 标签时，就会下载并执行JavaScript语句。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- execute the script.js file --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;path/to/my/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong><code>&lt;scrip&gt;</code> 标签不是 empty的，这意味着它需要 <code>&lt;/script&gt;</code> 来结尾。你也可以在标签内直接写JavaScript语句，但是除了调试的时候，其他时间不建议这么做。</p>
<h3 id="lt-script-gt-标签的位置"><a href="#lt-script-gt-标签的位置" class="headerlink" title="&lt;script&gt;标签的位置"></a>&lt;script&gt;标签的位置</h3><p><code>&lt;script&gt;</code> 标签既：</p>
<ul>
<li>放在 <code>&lt;head&gt;</code> 标签的里面时，在页面内容加载前执行JavaScript语句。</li>
<li>放在<code>&lt;body&gt;</code> 标签内的最后一行时，在页面内容加载完毕后执行JavaScript的语句。</li>
</ul>
<p>主流做法是在 <code>&lt;body&gt;</code> 之后写 <code>&lt;script&gt;</code> 语句，但你也可以使用 <code>defer</code> 属性来设置在内容加载完毕之后再下载和运行JavaScript语句，但IE9及以前的IE不支持这个特性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- include here to run before the page appears --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   ... content ...</span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- include here to run &quot;after&quot; html appears --&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- we will usually do this --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>你还可以在浏览器里面打开终端来使用JavaScript并查看输出和打印信息，<strong>You should always have the JavaScript Console open when developing JavaScript code, since this is where any error messages will appear!</strong></p>
<h3 id="使用node-js"><a href="#使用node-js" class="headerlink" title="使用node.js"></a>使用node.js</h3><p>使用JavaScript的解释器node.js在本地命令行里运行JavaScript。</p>
<p>在安装了node的机器的命令行里输入 <code>node</code> 语句来打开 <em>interactive Node session</em>，然后在出现的 <code>&gt;</code> 后输入要执行的语句。要退出会话，输入 <code>quit()</code> 后回车或按 <code>ctrl</code> + <code>z</code> 即可。</p>
<p>如果要运行一个 <code>.js</code> 文件，输入：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node my-script.js</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript的基本语法"><a href="#JavaScript的基本语法" class="headerlink" title="JavaScript的基本语法"></a>JavaScript的基本语法</h2><p>在一个<code>.js</code>文件中是没有 <code>main()</code> 函数的概念的。</p>
<p>程序逐行执行，每行可声明一个变量或函数，然后在后续的行使用它们。<strong>每行的结尾最好加上 <code>;</code> ，虽然解释器有时可以容忍你漏掉分号，但是为了避免意外错误的发生，还是加上为好。</strong></p>
<p>要打印某些信息，使用：<code>console.log()</code></p>
<h3 id="strict-mode"><a href="#strict-mode" class="headerlink" title="strict mode"></a>strict mode</h3><p>在文件顶部声明：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>可以告诉解释器使用严格模式。（注意这是一个解释器声明而不是字符串！）</p>
<p>在严格模式下，解释器会更加严谨地处理语法。</p>
<p>比如，如果你尝试使用一个未被声明的变量的时候，严格模式下解释器将报错，而非严格模式下，编译器就使用 <code>undefined</code> 作为值。严格模式可以捕捉到一些silly mistakes。</p>
<blockquote>
<p><strong>ALWAYS USE STRICT MODE!</strong> It will help avoid typo-based bugs, as well as enable your code to run more efficiently.</p>
</blockquote>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="let和var"><a href="#let和var" class="headerlink" title="let和var"></a>let和var</h4><p>我们使用 <code>let</code> 关键字来定义变量。</p>
<p>注意，我们不会声明变量的类型(e.g., <code>int</code> or <code>String</code>)，变量类型在JavaScript里是动态的，即变量的类型就是赋值给它的值的类型(e.g., <code>Number</code>, <code>String</code>, etc.)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message = <span class="string">&#x27;Hello World&#x27;</span>;  <span class="comment">//a String</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> message);  <span class="comment">//=&gt; `string`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> shoeSize = <span class="number">7</span>;  <span class="comment">//a Number</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> shoeSize);  <span class="comment">//=&gt; &#x27;number&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>typeof</code> 运算符来查看变量的类型。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="built_in">let</span> a = 10;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">typeof a;</span></span><br><span class="line">&#x27;string&#x27;</span><br></pre></td></tr></table></figure>



<ul>
<li>在JavaScript里使用camelCase来命名变量。</li>
</ul>
<blockquote>
<p><strong>Pro Tip:</strong> Even though variables in JavaScript loosely typed, the data type of a value is still important! In order to help keep track of the type of each variable in JavaScript, include the type in the variable name. For example: <code>textString</code>, <code>wordsArray</code>, <code>totalNum</code>, <code>itemStr</code>, etc..</p>
</blockquote>
<ul>
<li>声明的变量默认值为 <code>&#39;undefined&#39;</code> ，类似Java里的 <code>null</code>。尽管JavaScript里也有 <code>null</code> 类型，但不常用。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//create a variable (not assigned)</span></span><br><span class="line"><span class="keyword">let</span> hoursSlept;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(hoursSlept);  <span class="comment">//=&gt; undefined</span></span><br></pre></td></tr></table></figure>



<ul>
<li>注意，<code>let</code> 关键字是ES6标准引入的，之前使用的是 <code>var</code> 关键字。它们之间的区别：<ul>
<li><code>let</code> 的作用域是 <code>&#123;&#125;</code> 之间的区域</li>
<li><code>var</code> 的作用域是该变量定义的函数内，即如果你在此函数内的 <code>if</code> 语句模块内用 <code>var</code> 定义的变量仍在此函数的 <code>if</code> 语句模块外有效</li>
<li>使用 <code>let</code> 最好，因为作用域更清晰，但如果你要兼容老设备：e.g., IE 10, Safari 9.3, Android 4.4，那还是用 <code>var</code> 吧，或者transpile你的代码。</li>
</ul>
</li>
</ul>
<h4 id="const"><a href="#const" class="headerlink" title="const"></a>const</h4><p>常数变量也可以使用 <code>const</code> 来声明（只读变量？），且只能被赋值一次。</p>
<p>const变量的作用域和let一样，都是<strong>block scoped</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">ISCHOOL_URL</span> = <span class="string">&#x27;https://ischool.uw.edu&#x27;</span>; <span class="comment">//declare constant</span></span><br><span class="line"><span class="variable constant_">ISCHOOL_URL</span> = <span class="string">&#x27;https://example.com&#x27;</span>; <span class="comment">//TypeError: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure>

<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><p>可以进行数值运算的类型，常用的数学函数可以使用 预置的 <code>Math</code> 类来调用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">typeof</span> x;  <span class="comment">//&#x27;number&#x27;</span></span><br><span class="line"><span class="keyword">let</span> y = x/<span class="number">4</span>;</span><br><span class="line"><span class="keyword">typeof</span> y;  <span class="comment">//&#x27;number&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//numbers use floating point division</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( x/<span class="number">4</span> );  <span class="comment">//1.25</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//use the Math.floor() function to do integer division</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Math</span>.<span class="title function_">floor</span>(x/<span class="number">4</span>) );  <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//other common Math functions available as well</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(x) );  <span class="comment">//2.23606797749979</span></span><br></pre></td></tr></table></figure>



<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p>使用 <code>&#39;</code> 或 <code>&quot;</code> 括起来的就是String类型的变量，推荐使用单引号。</p>
<p>可以使用加好对字符串进行连接。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;Joel&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> greeting = <span class="string">&#x27;Hello, my name is &#x27;</span>+name; <span class="comment">//concatenation</span></span><br></pre></td></tr></table></figure>

<p>String也有一堆方法。和Java一样，这里String类型也是immutable的。所以String方法会返回一个新字符串：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> shouted = message.<span class="title function_">toUpperCase</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(shouted);  <span class="comment">//=&gt; &#x27;HELLO WORLD&#x27;</span></span><br></pre></td></tr></table></figure>



<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><p>只要两种值：<code>true</code> 和 <code>false</code> </p>
<p>通常使用比较逻辑时返回的值为布尔值，布尔值也支持逻辑运算。</p>
<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><p>JavaScript Arrays are written as literals inside square brackets <strong><code>[]</code></strong>. Individual elements can be accessed by (0-based) <em>index</em> using <strong>bracket notation</strong>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an array of names</span></span><br><span class="line"><span class="keyword">let</span> names = [<span class="string">&#x27;John&#x27;</span>, <span class="string">&#x27;Paul&#x27;</span>, <span class="string">&#x27;George&#x27;</span>, <span class="string">&#x27;Ringo&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//an array of numbers (can contain &quot;duplicate&quot; values)</span></span><br><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//arrays can contain different types (including other arrays!)</span></span><br><span class="line"><span class="keyword">let</span> things = [<span class="string">&#x27;raindrops&#x27;</span>, <span class="number">2.5</span>, <span class="literal">true</span>, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>]];</span><br><span class="line"></span><br><span class="line"><span class="comment">//arrays can be empty (contain no elements)</span></span><br><span class="line"><span class="keyword">let</span> empty = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">//access using bracket notation</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( names[<span class="number">1</span>] );  <span class="comment">// &quot;Paul&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( things[<span class="number">3</span>][<span class="number">2</span>] );  <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">numbers[<span class="number">0</span>] = <span class="string">&#x27;340&#x27;</span>;  <span class="comment">//assign new value at index 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( numbers );  <span class="comment">// [340, 2, 2, 3, 5, 8]</span></span><br></pre></td></tr></table></figure>

<p>JavaScript的数组是可以 outbound 的，你可以给任意的下标元素赋值，数组会自动增长到这个下标的长度，并且给中间未赋值的元素赋值为 <code>undefined</code> 。</p>
<p>获取数组的长度，可以使用 <code>.length</code> 属性，<strong>注意，返回值永远是最后一个元素 + 1</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> letters = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(letters.<span class="property">length</span>);  <span class="comment">// 3</span></span><br><span class="line">letters[<span class="number">5</span>] = <span class="string">&#x27;f&#x27;</span>;  <span class="comment">//grows the array</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(letters);  <span class="comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, , , &#x27;f&#x27; ]</span></span><br><span class="line">                       <span class="comment">//blank spaces are undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(letters.<span class="property">length</span>);  <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<p>数组也有许多方法，你可以使用这些方法来操弄数组，就像Java的 <code>ArrayList</code> 一样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Make a new array</span></span><br><span class="line"><span class="keyword">let</span> array = [<span class="string">&#x27;i&#x27;</span>,<span class="string">&#x27;n&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;o&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//add item to end of the array</span></span><br><span class="line">array.<span class="title function_">push</span>(<span class="string">&#x27;340&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array); <span class="comment">//=&gt; [&#x27;i&#x27;,&#x27;n&#x27;,&#x27;f&#x27;,&#x27;o&#x27;,&#x27;340&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//combine elements into a string</span></span><br><span class="line"><span class="keyword">let</span> str = array.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str); <span class="comment">//=&gt; &quot;i-n-f-o-340&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//get index of an element (first occurrence)</span></span><br><span class="line"><span class="keyword">let</span> oIndex = array.<span class="title function_">indexOf</span>(<span class="string">&#x27;o&#x27;</span>); <span class="comment">//=&gt; 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//remove 1 element starting at oIndex</span></span><br><span class="line">array.<span class="title function_">splice</span>(oIndex, <span class="number">1</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array); <span class="comment">//=&gt; [&#x27;i&#x27;,&#x27;n&#x27;,&#x27;f&#x27;,&#x27;340&#x27;]</span></span><br></pre></td></tr></table></figure>



<h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><p>包含键值对的一种数据结构。使用“String”类型作为“key”来获取其中储存的”value”。</p>
<p>value的数据类型可以是任意的，比如“Number”，“Array”，甚至是另一个Object。</p>
<p>JavaScript的Object数据类型更像是Java里的HashMap（实际上JavaScript的Object就是用Hash table数据结构来实现的），Python里的dictionary，而<strong>和面向对象编程里的对象没啥关系</strong>（当然，它也可以用来实现面向对象编程）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an object of ages (explicit Strings for keys)</span></span><br><span class="line"><span class="comment">//The `ages` object has a `sarah` property (with a value of 42)</span></span><br><span class="line"><span class="keyword">let</span> ages = &#123;<span class="string">&#x27;sarah&#x27;</span>:<span class="number">42</span>, <span class="string">&#x27;amit&#x27;</span>:<span class="number">35</span>, <span class="string">&#x27;zhang&#x27;</span>:<span class="number">13</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//different properties can have the same values</span></span><br><span class="line"><span class="comment">//property names with non-letter characters must be in quotes</span></span><br><span class="line"><span class="keyword">let</span> meals = &#123;<span class="attr">breakfast</span>:<span class="string">&#x27;coffee&#x27;</span>, <span class="attr">lunch</span>: <span class="string">&#x27;coffee&#x27;</span>, <span class="string">&#x27;afternoon tea&#x27;</span>: <span class="string">&#x27;coffee&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//values can be of different types (including arrays or other objects!)</span></span><br><span class="line"><span class="keyword">let</span> typeExamples = &#123;<span class="attr">number</span>:<span class="number">12</span>, <span class="attr">string</span>:<span class="string">&#x27;dog&#x27;</span>, <span class="attr">array</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//objects can be empty (contains no properties)</span></span><br><span class="line"><span class="keyword">let</span> empty = &#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>注意，Object里的数据是无序的，你使用 <code>console.log()</code> 打印它的属性值时，打印的结果是乱序的！</p>
</li>
<li><p>用 <code>console.log</code> 打印Object的时候，所有属性都会完整地被打印出来。但是，如果你尝试把对象转换为“String”类型，比如 <code>let output = &#39;my obj&#39; + expObj</code>，那么最终打印出的结果是：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my obj[obj Object]</span><br></pre></td></tr></table></figure>

<p>打印的是”string”版本的Object，显然不是我们想要的结果。注意下面两种打印Object的方法的区别！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myObject = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//convert object to string, won&#x27;t log nicely</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;My object: &quot;</span> + myObject); <span class="comment">//=&gt; My object: [object Object]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//log the object directly</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;My object &quot;</span>, myObject); <span class="comment">//=&gt; My object &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="面向对象式编程"><a href="#面向对象式编程" class="headerlink" title="面向对象式编程"></a>面向对象式编程</h4><p>可以像Java的对象一样使用JavaScript的Object数据类型，每个property就像是一个attribute（或称之为“<em>实例对象</em>”）一样。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an object representing a Person (spacing is for readability; white-space is ignored)</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;Smith&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">40</span>,</span><br><span class="line">  <span class="attr">pets</span>: [<span class="string">&#x27;rover&#x27;</span>, <span class="string">&#x27;fluffy&#x27;</span>, <span class="string">&#x27;mittens&#x27;</span>],  <span class="comment">//value is an array</span></span><br><span class="line">  <span class="attr">favorites</span>: &#123;   <span class="comment">//value is another object</span></span><br><span class="line">    <span class="attr">music</span>: <span class="string">&#x27;jazz&#x27;</span>,</span><br><span class="line">    <span class="attr">food</span>: <span class="string">&#x27;pizza&#x27;</span>,</span><br><span class="line">    <span class="attr">numbers</span>: [<span class="number">12</span>, <span class="number">42</span>]  <span class="comment">//value is an array</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Accessing-Object"><a href="#Accessing-Object" class="headerlink" title="Accessing Object"></a>Accessing Object</h4><p>两种方法：</p>
<ul>
<li><code>obj[&#39;key&#39;]</code></li>
<li><code>obj.key</code></li>
</ul>
<p>如果访问了不存在的对象，那么得到的值是 <code>undefined</code> 。</p>
<p>两种方法的区别：</p>
<p>使用方括号 <code>[]</code> 访问时可以在里面放表达式或变量的值，如：<code>obj[variable]</code>，但其他情况下建议使用 <code>obj.key</code> 这种用法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> favorites = &#123;<span class="attr">music</span>: <span class="string">&#x27;jazz&#x27;</span>, <span class="attr">food</span>: <span class="string">&#x27;pizza&#x27;</span>, <span class="attr">numbers</span>: [<span class="number">12</span>, <span class="number">42</span>]&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//access variable</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites[<span class="string">&#x27;music&#x27;</span>] ); <span class="comment">//&#x27;jazz&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//assign variable</span></span><br><span class="line">favorites[<span class="string">&#x27;food&#x27;</span>] = <span class="string">&#x27;cake&#x27;</span>;  <span class="comment">//property name is a string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites[<span class="string">&#x27;food&#x27;</span>] ); <span class="comment">//&#x27;cake&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//access undefined key</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites[<span class="string">&#x27;language&#x27;</span>] ); <span class="comment">//undefined</span></span><br><span class="line">favorites[<span class="string">&#x27;language&#x27;</span>] = <span class="string">&#x27;javascript&#x27;</span>; <span class="comment">//assign new key and value</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//access nested values</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites[<span class="string">&#x27;numbers&#x27;</span>][<span class="number">0</span>] ); <span class="comment">//12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//use a variable as the &quot;key&quot;</span></span><br><span class="line"><span class="keyword">let</span> userInputtedTopic = <span class="string">&#x27;food&#x27;</span>; <span class="comment">//pretend this value is supplied dynamically</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(favorites[userInputtedTopic]);  <span class="comment">//&#x27;cake&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> favorites = &#123;<span class="attr">music</span>: <span class="string">&#x27;jazz&#x27;</span>, <span class="attr">food</span>: <span class="string">&#x27;pizza&#x27;</span>, <span class="attr">numbers</span>: [<span class="number">12</span>, <span class="number">42</span>]&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//access variable</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites.<span class="property">music</span> ); <span class="comment">//&#x27;jazz&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//assign variable</span></span><br><span class="line">favorites.<span class="property">food</span> = <span class="string">&#x27;cake&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites.<span class="property">food</span> ); <span class="comment">//&#x27;cake&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//access undefined key</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites.<span class="property">language</span> ); <span class="comment">//undefined</span></span><br><span class="line">favorites.<span class="property">language</span> = <span class="string">&#x27;javascript&#x27;</span>; <span class="comment">//assign new key and value</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//access nested values</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( favorites.<span class="property">numbers</span>[<span class="number">0</span>] ); <span class="comment">//12</span></span><br></pre></td></tr></table></figure>



<p><strong>获取含有所有key的数组</strong>：<span id="obj-key-method">使用 <code>Object.key()</code> 方法</span>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ages = &#123;<span class="attr">sarah</span>:<span class="number">42</span>, <span class="attr">amit</span>:<span class="number">35</span>, <span class="attr">zhang</span>:<span class="number">13</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(ages);  <span class="comment">// [ &#x27;sarah&#x27;, &#x27;amit&#x27;, &#x27;zhang&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> JavaScript没有获取全部value的方法，你只能遍历所有的key来逐个获取它们的values。</p>
<h4 id="Object-Array"><a href="#Object-Array" class="headerlink" title="Object Array"></a>Object Array</h4><p>Object和Array可以嵌套使用：</p>
<blockquote>
<p>As noted above, both arrays and objects can have values of any type—including other arrays or objects! The ability to nest objects inside of objects is incredibly powerful, and allows us to define arbitrarily complex information structurings (schemas). </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an arbitrary list of people&#x27;s names, heights, and weights</span></span><br><span class="line"><span class="keyword">let</span> people = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;Ada&#x27;</span>, <span class="attr">height</span>: <span class="number">58</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">115</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;Bob&#x27;</span>, <span class="attr">height</span>: <span class="number">59</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">117</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;Chris&#x27;</span>, <span class="attr">height</span>: <span class="number">60</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">120</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;Diya&#x27;</span>, <span class="attr">height</span>: <span class="number">61</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">123</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;Emma&#x27;</span>, <span class="attr">height</span>: <span class="number">62</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">126</span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Each object (record) acts as a “row” in the table, and each property (feature) acts as a “column”. As long as all of the objects share the same keys, this array of objects <em>is</em> a <strong>table</strong>!</p>
</blockquote>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>不像其他编程语言，JavaScript不会在你对不同类型的变量使用运算符的时候报错，而是进行一些自动类型转换，但请小心，有时候这可能会造成意想不到的后果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="string">&#x27;40&#x27;</span> + <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);  <span class="comment">//=&gt; &#x27;402&#x27;; the 2 is coerced to a String</span></span><br><span class="line"><span class="keyword">let</span> y = <span class="string">&#x27;40&#x27;</span> - <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y);  <span class="comment">//=&gt; 36; can&#x27;t subtract strings so &#x27;40&#x27; is coerced to a Number!</span></span><br></pre></td></tr></table></figure>

<h4 id="x3D-和-x3D-x3D"><a href="#x3D-和-x3D-x3D" class="headerlink" title="=&#x3D; 和 =&#x3D;&#x3D;"></a>=&#x3D; 和 =&#x3D;&#x3D;</h4><p>在使用 <code>==</code> 的时候，JavaScript会自动进行类型转换，所以尽管类型不同，但是只要值是一样的，返回的结果就是 <code>true</code> ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;10&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num == str) <span class="comment">//true, the values can be coerced into one another</span></span><br></pre></td></tr></table></figure>

<p>如果要对类型是否一致也进行检查，**请使用 <code>===</code> 和 <code>!==</code> **：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;10&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num === str) <span class="comment">//false, the values have different types</span></span><br></pre></td></tr></table></figure>



<p>虽然经常自动转换的类型为“String”，但有时候JavaScript也会转换为“Boolean”，特别是在比较两个变量的时候：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//compare an empty String to the number 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;&#x27;</span> == <span class="number">0</span> ); <span class="comment">//true; both can be coerced to a `false` value</span></span><br></pre></td></tr></table></figure>

<p>因为空字符串 <code> &#39; &#39;</code> 和数字 <code>0</code> 都被认为是“假值”（可以被强制转换为 false 的值），所以 <code>==</code> 比较的结果返回 <code>true</code> 。其他的假值包括 undefined、null 和 NaN（非数字）。而其他所有的值都会被强制转换为 true。</p>
<blockquote>
<p>For more examples of the horror of JavaScript coercion, see <a target="_blank" rel="noopener" href="https://www.destroyallsoftware.com/talks/wat">this video</a> (about 1:20 in).</p>
</blockquote>
<h3 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h3><h4 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(condition)&#123;</span><br><span class="line">  <span class="comment">//statements</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(alternativeCondition) &#123;</span><br><span class="line">  <span class="comment">//statements</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">//statements</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 用于 <code>undefined</code> 的变量会自动转换为 <code>false</code>，所以用下面这种写法来判断变量是否被初始化很常见：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//check if a `person` variable has a `name` property</span></span><br><span class="line"><span class="keyword">if</span>(person.<span class="property">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Person does have a name!&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>你也可以使用三元运算符来表示分支结构：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x; <span class="comment">//declare variable</span></span><br><span class="line"><span class="keyword">if</span>(condition) &#123;</span><br><span class="line">    x = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    x = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//can be condensed into:</span></span><br><span class="line"><span class="keyword">let</span> x = condition ? <span class="string">&#x27;foo&#x27;</span> : <span class="string">&#x27;bar&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4><blockquote>
<p>JavaScript also supports <strong><code>while</code></strong> loop (for indefinite iteration) and <strong><code>for</code></strong> loops (for definite iteration) similar to Java. The only difference is that because JavaScript variables are dynamically typed, the <em>loop control variables</em> are not declared with a type:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an example for loop. The `i` is not declared as an int</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;array.<span class="property">length</span>; i++)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>JavaScript有 <code>for...in...</code> 这个结构，但是 “ it doesn’t work as you would expect for arrays and it iterates over “enumerable properties” rather than the specific indices”。而ES6引入的 <code>for...of...</code> 可以用来遍历数组，但浏览器都不支持这个特性。因此<strong>目前的最佳做法是使用上述 for 循环</strong>，或者下一章介绍的 <strong><code>forEach()</code> 方法</strong>。</p>
<ul>
<li>如果你要遍历一个Object的所有key，使用 <code>Object.key()</code> 方法来获取遍历循环所需的键数组！用法见<a href="#obj-key-method">这里</a></li>
</ul>
<p>chatGPT：</p>
<p>在 JavaScript 中，<code>for...in</code> 和 <code>for...of</code> 是两种不同的循环语句，它们有以下区别和用法：</p>
<ol>
<li><p><code>for...in</code> 循环：</p>
<ul>
<li>用于遍历对象的可枚举属性。</li>
<li>循环变量表示每个属性的键（key）。</li>
<li>迭代顺序不确定，可能不按照对象属性的顺序进行遍历。</li>
<li>通常不用于遍历数组，因为遍历数组时会返回索引而不是数组元素。</li>
</ul>
<p>示例用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key); <span class="comment">// 输出：a, b, c</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[key]); <span class="comment">// 输出：1, 2, 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>for...of...</code> 循环：</p>
<ul>
<li>用于遍历可迭代对象（例如数组、字符串、Set、Map 等）的值。</li>
<li>循环变量表示每个元素的值。</li>
<li>迭代顺序按照对象的迭代协议（iterator protocol）规定的顺序进行遍历。</li>
<li>不可用于遍历普通对象，因为普通对象并不是可迭代的。</li>
</ul>
<p>示例用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> arr) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 输出：1, 2, 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> str) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(char); <span class="comment">// 输出：H, e, l, l, o</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>总结：</p>
<ul>
<li><code>for...in</code> 用于遍历对象的属性，返回属性的键（key）。</li>
<li><code>for...of</code> 用于遍历可迭代对象的值，返回元素的值。</li>
<li><code>for...in</code> 不适用于遍历数组，而 <code>for...of</code> 可以遍历数组。</li>
</ul>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>JavaScript的函数定义和Java很相似，就是没有<code>public static</code> 和返回值，以及不需要为变量指定类型：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//A function named `makeFullName` that takes two arguments</span></span><br><span class="line"><span class="comment">//and returns the &quot;full name&quot; made from them</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeFullName</span>(<span class="params">firstName, lastName</span>) &#123;</span><br><span class="line">  <span class="comment">//Function body: perform tasks in here</span></span><br><span class="line">  <span class="keyword">let</span> fullName = firsName + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Return: what you want the function to output</span></span><br><span class="line">  <span class="keyword">return</span> fullName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Call the makeFullName function with the values &quot;Alice&quot; and &quot;Kim&quot;</span></span><br><span class="line"><span class="comment">// Assign the result to `myName`</span></span><br><span class="line"><span class="keyword">let</span> myName = <span class="title function_">makeFullName</span>(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Kim&quot;</span>)  <span class="comment">// &quot;Alice Kim&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>As in other languages, function arguments in JavaScript are <strong>implicitly declared <em>local</em> variables</strong>.</li>
<li>如果没有return语句，函数默认返回 <code>undefined</code></li>
<li>JavaScript的函数所有的变量都是可选的，即调用函数时你可以少传参数（未被赋值的默认为 <code>undefined</code> ）或者多传参：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span>+name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//expected: argument is assigned a value</span></span><br><span class="line"><span class="title function_">sayHello</span>(<span class="string">&quot;Joel&quot;</span>);  <span class="comment">//&quot;Hello, Joel&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//argument not assigned a value (left undefined)</span></span><br><span class="line"><span class="title function_">sayHello</span>();  <span class="comment">//&quot;Hello, undefined&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//extra arguments (values) are not assigned to variables, so are ignored</span></span><br><span class="line"><span class="title function_">sayHello</span>(<span class="string">&quot;Joel&quot;</span>, <span class="string">&quot;y&#x27;all&quot;</span>);  <span class="comment">//&quot;Hello, Joel&quot;</span></span><br></pre></td></tr></table></figure>





<h2 id="JS函数式编程"><a href="#JS函数式编程" class="headerlink" title="JS函数式编程"></a>JS函数式编程</h2><h3 id="函数即变量"><a href="#函数即变量" class="headerlink" title="函数即变量"></a>函数即变量</h3><p>在JavaScript中，函数就是变量：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//create a function called `sayHello`</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//what kind of thing is `sayHello` ?</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> sayHello);  <span class="comment">//=&gt; &#x27;function&#x27;</span></span><br></pre></td></tr></table></figure>

<p>所以，你也可以把函数赋值给其它变量：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//create a function called `sayHello`</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//assign the `sayHello` value to a new variable `greet`</span></span><br><span class="line"><span class="keyword">let</span> greet = sayHello;</span><br><span class="line"></span><br><span class="line"><span class="comment">//call the function assigned to the `greet` variable</span></span><br><span class="line"><span class="title function_">greet</span>(<span class="string">&quot;world&quot;</span>);  <span class="comment">//logs &quot;Hello world&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>你可以用两种方式来定义实名函数：</p>
<ul>
<li>直接声明实名函数</li>
<li>把匿名函数的值赋给一个变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//named function (normal)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">person</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+person);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//an anonymous function (with no name!)</span></span><br><span class="line"><span class="comment">//(We can&#x27;t reference this without a name, so writing an anonymous function is</span></span><br><span class="line"><span class="comment">//not a valid statement)</span></span><br><span class="line"><span class="keyword">function</span>(<span class="params">person</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+person);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//anonymous function (value) assigned to variable</span></span><br><span class="line"><span class="comment">//equivalent to the version in the previous example</span></span><br><span class="line"><span class="keyword">let</span> sayHello = <span class="keyword">function</span>(<span class="params">person</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+person);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="提升"><a href="#提升" class="headerlink" title="提升"></a>提升</h4><p>上述两种方法唯一的区别就在于“提升”：</p>
<p>JavaScript解释器在读取文件的时候，会在执行任何语句前，前把所有的变量和函数声明放到内存里。这看起来就像把这些声明“提升”到了文件的顶部。</p>
<p><strong>提升只适用于实名函数！</strong>使用将匿名函数赋值给变量的做法不会使函数的定义被提升。<strong>请在使用任何函数之前先声明和定义函数！</strong></p>
<h3 id="Object-函数"><a href="#Object-函数" class="headerlink" title="Object 函数"></a>Object 函数</h3><p>函数是变量，Object的属性是变量，因此可以把函数设置为Object的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an object representing a dog</span></span><br><span class="line"><span class="keyword">let</span> dog = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Sparky&#x27;</span></span><br><span class="line">    <span class="attr">breed</span>: <span class="string">&#x27;mutt&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//assign an anonymous function to the `bark` property</span></span><br><span class="line">dog.<span class="property">bark</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;woof!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//call the function</span></span><br><span class="line">dog.<span class="title function_">bark</span>(); <span class="comment">//logs &quot;woof!&quot;</span></span><br></pre></td></tr></table></figure>

<p>这就像给对象创建了一个方法成员一样！the <code>dog</code> object now has a function <code>bark()</code> !</p>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><p>就像Java一样，JavaScript也可以用关键字 <code>this</code> 来指代当前的Object：</p>
<blockquote>
<p>Note that the manner in which the <code>this</code> variable is assigned can lead to some subtle errors when using callback functions. For more details, see <a target="_blank" rel="noopener" href="https://info340.github.io/es6.html#es6">the chapter on ES6 features</a>. </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// An object representing a Dog</span></span><br><span class="line"><span class="keyword">let</span> fido = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Fido&quot;</span>,</span><br><span class="line">  <span class="attr">bark</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>, <span class="string">&quot;woofs&quot;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// An object representing another Dog</span></span><br><span class="line"><span class="keyword">let</span> spot = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Spot&quot;</span>,</span><br><span class="line">  <span class="attr">bark</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>, <span class="string">&quot;yips&quot;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;***This is Fido barking:***&#x27;</span>);</span><br><span class="line">fido.<span class="title function_">bark</span>(); <span class="comment">//=&gt; &quot;Fido woofs&quot;. Note, `this` will refer to the `fido` object.</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;***This is Spot barking***&#x27;</span>);</span><br><span class="line">spot.<span class="title function_">bark</span>(); <span class="comment">//=&gt; &quot;Spot yips&quot;. Note, `this` will refer to the `spot` object.</span></span><br></pre></td></tr></table></figure>



<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><p>函数也可以被作为参数传递给其它函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//create a function `sayHello`</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//a function that takes ANOTHER FUNCTION as an argument</span></span><br><span class="line"><span class="comment">//this function will call the argument function, passing it &quot;world&quot;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doWithWorld</span>(<span class="params">funcToCall</span>)&#123;</span><br><span class="line">    <span class="comment">//call the given function with an argument of &quot;world&quot;</span></span><br><span class="line">    <span class="title function_">funcToCall</span>(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">doWithWorld</span>(sayHello);  <span class="comment">//logs &quot;Hello world&quot;;</span></span><br></pre></td></tr></table></figure>

<p>被当做变量传递给另一个函数的函数叫做：回调函数。因为被当成参数的函数只有在需要的时候才会被”call back”叫出来干活。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doLater</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;I&#x27;m waiting a bit...&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Okay, time to work!&quot;</span>);</span><br><span class="line">    <span class="title function_">callback</span>();  <span class="comment">//&quot;call back&quot; and execute that function</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doHomework</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">doLater</span>(doHomework);</span><br></pre></td></tr></table></figure>



<p>将函数作为参数传递给其他函数的概念是函数式编程的核心，也是赋予其表达力的关键：我们可以主要通过运行的行为来定义程序行为，而不是过多地关注使用的数据变量。此外，回调函数对于支持交互至关重要：许多内置的JavaScript函数接受一个回调函数，该函数指定在某个特定时间发生时应该执行什么操作（例如，当用户点击按钮时）。</p>
<p>通常回调函数在被定义后只会被单个函数使用，因此我们可以直接以匿名函数的形式来创建回调函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//name anonymous function by assigning to variable</span></span><br><span class="line"><span class="keyword">let</span> sayHello = <span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doWithWorld</span>(<span class="params">funcToCall</span>)&#123;</span><br><span class="line">    <span class="title function_">funcToCall</span>(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//法1：pass the named function by name</span></span><br><span class="line"><span class="title function_">doWithWorld</span>(sayHello);</span><br><span class="line"></span><br><span class="line"><span class="comment">//法2：pass in anonymous version of the function</span></span><br><span class="line"><span class="title function_">doWithWorld</span>(<span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span>+name);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>注意，使用匿名函数时，<code>&#125;</code>  和 <code>)</code> 的位置！</li>
</ul>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>我们不仅仅可以将函数作为参数传递，还可以将函数作为参数返回！</p>
<p>看下面这个例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//This function produces ANOTHER FUNCTION</span></span><br><span class="line"><span class="comment">//which greets a person with a given greeting</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeGreeterFunc</span>(<span class="params">greeting</span>)&#123;</span><br><span class="line">    <span class="comment">//explicitly store the param as a local variable (for clarity)</span></span><br><span class="line">    <span class="keyword">let</span> localGreeting = greeting;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//A new function that uses the `greeting` param</span></span><br><span class="line">    <span class="comment">//this is just a value!</span></span><br><span class="line">    <span class="keyword">let</span> aGreeterFunc = <span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(localGreeting+<span class="string">&quot; &quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> aGreeterFunc; <span class="comment">//return the value (which happens to be a function)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Use the &quot;maker&quot; to create two new functions</span></span><br><span class="line"><span class="keyword">let</span> sayHello = <span class="title function_">makeGreeterFunc</span>(<span class="string">&#x27;Hello&#x27;</span>); <span class="comment">//says &#x27;Hello&#x27; to a name</span></span><br><span class="line"><span class="keyword">let</span> sayHowdy = <span class="title function_">makeGreeterFunc</span>(<span class="string">&#x27;Howdy&#x27;</span>); <span class="comment">//says &#x27;Howdy&#x27; to a name</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//call the functions that were made</span></span><br><span class="line"><span class="title function_">sayHello</span>(<span class="string">&#x27;world&#x27;</span>); <span class="comment">//&quot;Hello world&quot;</span></span><br><span class="line"><span class="title function_">sayHello</span>(<span class="string">&#x27;Dave&#x27;</span>); <span class="comment">//&quot;Hello Dave&quot;</span></span><br><span class="line"><span class="title function_">sayHowdy</span>(<span class="string">&#x27;world&#x27;</span>); <span class="comment">//&quot;Howdy wold&quot;</span></span><br><span class="line"><span class="title function_">sayHowdy</span>(<span class="string">&#x27;partner&#x27;</span>); <span class="comment">//&quot;Howdy partner&quot;</span></span><br></pre></td></tr></table></figure>

<p>通过将不同的参数传入 <code>makeGreetFunc()</code> , 我们可以创建自定义招呼方式的函数。</p>
<p>可以发现，在 <code>makeGreetFunc()</code> 函数里的变量 <code>localGreeting</code> 被传递给了返回的函数 <code>aGreetFunc()</code> ，并且在<code>makeGreetFunc()</code> 返回后，在其的scope之外仍可被访问。</p>
<p>这就是<strong>闭包</strong>，在JavaScript里可以用这个特性来在变量里存储数据。在异步编程 <a target="_blank" rel="noopener" href="https://info340.github.io/ajax.html#ajax">Asynchronous Programming</a>时，这个特性也非常有用。</p>
<h3 id="函数式循环"><a href="#函数式循环" class="headerlink" title="函数式循环"></a>函数式循环</h3><p>在 <code>ES5</code> 中，JavaScript引入了函数式编程的概念。</p>
<h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h4><p>使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>forEach()</code></a> 可以方便地遍历数组中的元素并使用参数中的回调函数对每个元素做点什么，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [&#123;...&#125;, &#123;...&#125;, &#123;...&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">//function for what to do with each item</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printItem</span>(<span class="params">currentItem</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(currentItem;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//print out each item</span></span><br><span class="line">arr.<span class="title function_">forEach</span>(printItem);</span><br></pre></td></tr></table></figure>

<p><code>forEach()</code> 的回调函数 <code>callbackFn()</code> 至多可以有三个参数：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#element"><code>element</code></a></p>
<p>The current element being processed in the array.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#index"><code>index</code></a></p>
<p>The index of the current element being processed in the array.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#array"><code>array</code></a></p>
<p>The array <code>forEach()</code> was called upon.</p>
</li>
</ul>
<p><code>forEach()</code> 的回调函数一般都使用匿名函数来定义。</p>
<ul>
<li><p><code>forEach()</code> is a <em>built-in</em> method for Arrays—similar to <code>push()</code> or <code>indexOf()</code>. For reference, the “implementation” of the <code>forEach()</code> function looks something like:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property">forEach</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123; <span class="comment">//define the Array&#x27;s forEach method</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;<span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In effect, the method does the job of managing the loop and the loop control variable for you, allowing you to just focus on what you want to do for each item.</p>
</li>
</ul>
<h4 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h4><p>如果你想要对原数组的所有元素进行一定的变换，然后得到一个含有变换后的元素的新数组，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">//将arr1的元素的平方映射到square</span></span><br><span class="line"><span class="keyword">let</span> square = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>];</span><br></pre></td></tr></table></figure>

<p>使用 <code>map()</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];  <span class="comment">//an initial array</span></span><br><span class="line"><span class="keyword">let</span> squares = numbers.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> item*item;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>同样的，map方法的回调函数也有最多三个参数：element、index、array。</p>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h4><p>还有一种常用的方法是过滤掉不要的元素，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ,<span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">//只要偶数</span></span><br><span class="line"><span class="keyword">let</span> evens = [<span class="number">2</span>, <span class="number">4</span>];</span><br></pre></td></tr></table></figure>

<p>使用 <code>filter()</code> 方法来实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> evens = arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (n%<span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> <code>filter()</code> 方法的回调函数 <code>callbackFn()</code> 只能返回 <code>true</code> 或 <code>false</code> ，且其回调函数的参数和 <code>forEach()</code> 一样。</p>
<h5 id="串联函数"><a href="#串联函数" class="headerlink" title="串联函数"></a>串联函数</h5><p>因为 <code>map()</code> 和 <code>filter()</code> 返回的都是一个数组，所以可以把它们串起来使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isEven</span>(<span class="params">element</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (element%<span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n*n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sqEvens = arr.<span class="title function_">filter</span>(isEven).<span class="title function_">map</span>(square); <span class="comment">//[4, 16, 36]</span></span><br></pre></td></tr></table></figure>



<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce"><strong><code>reduce()</code></strong></a> 方法让你能够将数组内的每个元素相互结合成一个单值，比如累加&#x2F;乘等等。</p>
<p><strong><code>reduce()</code> 需要1个或2个参数，它的回调函数 <code>callbackFn()</code> 也要至少2个，最多4个参数：</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#callbackfn"><code>callbackFn</code></a></p>
<p>为数组中每个元素执行的函数。其返回值将作为下一次调用 <code>callbackFn</code> 时的 <code>accumulator</code> 参数。对于最后一次调用，返回值将作为 <code>reduce()</code> 的返回值。该函数被调用时将传入以下参数：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#accumulator"><code>accumulator</code></a></p>
<p>上一次调用 <code>callbackFn</code> 的结果。在第一次调用时，如果指定了 <code>initialValue</code> 则为指定的值，否则为 <code>array[0]</code> 的值。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#currentvalue"><code>currentValue</code></a></p>
<p>当前元素的值。在第一次调用时，如果指定了 <code>initialValue</code>，则为 <code>array[0]</code> 的值，否则为 <code>array[1]</code>。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#currentindex"><code>currentIndex</code></a></p>
<p><code>currentValue</code> 在数组中的索引位置。在第一次调用时，如果指定了 <code>initialValue</code> 则为 <code>0</code>，否则为 <code>1</code>。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#array"><code>array</code></a></p>
<p>调用了 <code>reduce()</code> 的数组本身。</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#initialvalue"><code>initialValue</code></a> 可选</p>
<p>第一次调用回调时初始化 <code>accumulator</code> 的值。如果指定了 <code>initialValue</code>，则 <code>callbackFn</code> 从数组中的第一个值作为 <code>currentValue</code> 开始执行。如果没有指定 <code>initialValue</code>，则 <code>accumulator</code> 初始化为数组中的第一个值，并且 <code>callbackFn</code> 从数组中的第二个值作为 <code>currentValue</code> 开始执行。在这种情况下，如果数组为空（没有第一个值可以作为 <code>accumulator</code> 返回），则会抛出错误。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123; <span class="comment">//a function that adds two numbers</span></span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];  <span class="comment">//an initial array</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sum = numbers.<span class="title function_">reduce</span>(add);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">//15</span></span><br></pre></td></tr></table></figure>

<p><code>reduce()</code> 使用两个参数的情况：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sum starting from 10</span></span><br><span class="line"><span class="keyword">let</span> sum = numbers.<span class="title function_">reduce</span>(add, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//或者：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sum starting from 10</span></span><br><span class="line">numbers.<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">x, y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;, <span class="number">10</span>); <span class="comment">//the starting value comes AFTER the callback!</span></span><br></pre></td></tr></table></figure>

<p>To summarize：</p>
<p><img src="/../img/JavaScript/Map-filter-reduce.png"></p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/AirCloud">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






</html>
